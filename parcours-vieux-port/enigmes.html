<!-- Enigme 1 : La bouée rouge du quai nord -->
<section class="etape active" data-step="1">
  <h2>⛵️ Enigme 1 : La bouée rouge du quai nord</h2>
  <p>Près de la jetée, tu aperçois une bouée rouge : elle indique un côté du chenal. Quel nom lui donne-t-on en navigation ?</p>
  <input type="text" id="q1" placeholder="...">
  <button onclick="check(1, 'bâbord')">Valider</button>
</section>

<!-- Enigme 2 : Le mur des casiers -->
<section class="etape" data-step="2">
  <h2>🌺 Enigme 2 : Le mur des casiers</h2>
  <p>Derriere la coopérative, un mur cache des casiers de pêche anciens. Quel crustacé y était traditionnellement piégé ?</p>
  <input type="text" id="q2" placeholder="...">
  <button onclick="check(2, 'langouste')">Valider</button>
</section>

<!-- Enigme 3 : La barque catalane -->
<section class="etape" data-step="3">
  <h2>🚤 Enigme 3 : La barque catalane</h2>
  <p>Une vieille barque traditionnelle repose sur les galets. Peinte de trois couleurs, elle est typique de la côte Vermeille. Quel est son nom ?</p>
  <input type="text" id="q3" placeholder="...">
  <button onclick="check(3, 'barque catalane')">Valider</button>
</section>

<!-- Enigme 4 : Le symbole gravé -->
<section class="etape" data-step="4">
  <h2>🌌 Enigme 4 : Le symbole gravé</h2>
  <p>En observant une dalle près de l’eau, tu remarques une ancre gravée, accompagnée d’une date : 1943. Que s’y passait-il à Banyuls ?</p>
  <input type="text" id="q4" placeholder="...">
  <button onclick="check(4, 'résistance')">Valider</button>
</section>

<!-- Enigme 5 : Le code des feux -->
<section class="etape" data-step="5">
  <h2>🔦 Enigme 5 : Le code des feux</h2>
  <p>Les feux du port servent de repère aux bateaux. Le feu rouge signale la gauche du chenal en entrant. Que signale le feu vert ?</p>
  <input type="text" id="q5" placeholder="...">
  <button onclick="check(5, 'tribord')">Valider</button>
</section>

<!-- Enigme 6 : Le mur des initiales -->
<section class="etape" data-step="6">
  <h2>📜 Énigme 6 : Le mur des initiales</h2>
  <p>Sur un vieux mur du quai, trois lettres sont gravées : <strong>R.F.M.</strong>. Que signifient-elles ?</p>
  <input type="text" id="q6">
  <button onclick="check(6, 'république française maritime')">Valider</button>
</section>

<!-- Enigme 7 : L'objet rouillé -->
<section class="etape" data-step="7">
  <h2>🪝 Énigme 7 : L'objet rouillé</h2>
  <p>Quel outil, souvent rouillé, servait à hisser les caisses de poissons ?</p>
  <input type="text" id="q7">
  <button onclick="check(7, 'grappin')">Valider</button>
</section>

<!-- Enigme 8 : Voix du passé -->
<section class="etape" data-step="8">
  <h2>🌊 Énigme 8 : Voix du passé</h2>
  <p>Une plaque rend hommage à un grand navigateur local. Quel est son nom ?</p>
  <input type="text" id="q8">
  <button onclick="check(8, 'jean painlevé')">Valider</button>
</section>

<!-- Enigme 9 : L'anagramme du quai -->
<section class="etape" data-step="9">
  <h2>🔤 Énigme 9 : L’anagramme du quai</h2>
  <p>Reforme ce mot : <strong>CAPSUEL</strong></p>
  <input type="text" id="q9">
  <button onclick="check(9, 'scaphule')">Valider</button>
</section>

<!-- Enigme 10 : Mot final -->
<section class="etape" data-step="10">
  <h2>⚓ Énigme 10 : Mot final</h2>
  <p>Quel mot relie l’histoire, la mer, la mémoire et le port ?</p>
  <input type="text" id="q10">
  <button onclick="check(10, 'patrimoine')">Valider</button>
</section>

<!-- Fin -->
<section class="etape" data-step="fin">
  <h2>🎉 Bravo détective des quais !</h2>
  <p>Tu as percé le secret du vieux port de Banyuls, entre histoire, mer et mémoire locale.</p>
  <div class="badge">🏅 Badge : Gardien du Port FAFA™</div>
  <p class="bonus">💡 Le savais-tu ? Le vieux port de Banyuls servait aussi de point de passage discret vers l’Espagne durant la Résistance.</p>
  <button onclick="location.href='../../index.html'">🏠 Retour au menu</button>
</section>

<script>
let currentStep = 1;
function check(step, expected) {
  const val = document.getElementById(`q${step}`).value.toLowerCase().trim();
  if (val === expected) nextStep();
  else alert("Essaie encore !");
}
function nextStep() {
  document.querySelector(`.etape[data-step="${currentStep}"]`).classList.remove("active");
  currentStep++;
  const next = document.querySelector(`.etape[data-step="${currentStep}"]`);
  if (next) next.classList.add("active");
}
</script>
